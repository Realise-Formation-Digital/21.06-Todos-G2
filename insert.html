<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">
  <title>Document</title>
</head>

<body>
  <form>
    <div class="form-group">
      <label for="usr">Name:</label>
      <input type="text" class="form-control" id="user">
    </div><br>
    <div class="mb-3">
      <label for="exampleInputEmail1" class="form-label">Email address</label>
      <input type="email" class="form-control" id="mail" aria-describedby="emailHelp">
      <div id="email" class="form-text">We'll never share your email with anyone else.</div>
    </div>
    <div class="mb-3">
      <label for="examplemess" class="form-label">Message</label>
      <input type="Message" class="form-control" id="message">
    </div>


  </form>
  <button type="submit" class="btn btn-primary" onclick="postThat();">Submit</button>

  
  <div class="mb-3">
    <label for="examplemess" class="form-label">Delete id</label>
    <input type="Message" class="form-control" id="idDel">
  </div>
  <button type="submit" class="btn btn-primary" onclick="deleteThat();">Submit</button>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-kQtW33rZJAHjgefvhyyzcGF3C5TFyBQBA13V1RKPf4uH+bwyzQxZ6CmMZHmNBEfJ" crossorigin="anonymous"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<!--<script src="js/api.js"></script>-->
<script>

//fuction that posts the form into db.json
function postThat() {
  //Get form elements
    let userA = document.getElementById('user').value;
    let mailA = document.getElementById('mail').value;
    let messA = document.getElementById('message').value;

    //db address + table
    axios.post('http://localhost:3000/post', {

      //insert values
      //json field : data
      user: userA,
      mail: mailA,
      message: messA

      //get response or error
    }).then(resp => {
      console.log(resp.data);
    }).catch(error => {
      console.log(error);
    });
  }

//Function that deletes entry based on id give in form
function deleteThat() {

  //get id from form
  let id = document.getElementById('idDel').value;

  //delete id post
  axios.delete('http://localhost:3000/post/' + id);
}
</script>

</html>